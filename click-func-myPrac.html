<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>인사</title>
</head>
<body>
  <div id="root">
    <button id="btn">인사</button>
  </div>
  <script>
    const root = document.getElementById('root');
    const btn = document.getElementById('btn');
    const p = document.createElement('p');
    const strong = document.createElement('strong');

    // function clickEvent(clickTrigger, target, sometext){
    //   function event(){  
    //     let a = sometext;

    //     a.textContent = '안녕하세요';
        
    //     target.appendChild(a);
    //   }
    //   clickTrigger.addEventListener('click',event);
    // }

  
    // clickEvent(btn, root, p);

    // 여기서 알 수 있는 시사점.
    // 전역변수의 값을 할당 받으면 전역변수의 영향을 받지 않을 수 없기 때문에 증발되지 않는다.
    // 이것의 경우 하나의 p태그가 계속해서 덧씌워지게된다.
    // let a = document.createElement('p');를 사용할 경우
    // 버튼을 누를때마다 안녕하세요라는 p태그가 추가되어 나온다.
    

    
    function clickEvent(clickTrigger, target){
      function event(){  
        let a = document.createElement('p');

        a.textContent = '안녕하세요';
        
        target.appendChild(a);
      }
      clickTrigger.addEventListener('click',event);
    }

    for(let i = 0; i < 5; i++){
      clickEvent(btn,root);
    }
    // btn에 addEventListener가 5번 삽입되어서 , 한번 클릭에 인사를 5번씩 한다.
    // 동일 함수여도 여러번 삽입할 수 있다는 뜻
    // 이를 확인하기 위해 한번 더 삽입해보자
    clickEvent(btn,root)
    // 6번 출력됨을 확인.
    
    
    // 내 생각대로면 btn에는 이벤트 리스너가 삽입되어야하고,
    // btn을 클릭을 하는 순간 event함수가 발동 되어야한다.
    // event함수는 내가 지역변수로 sometext를 받아오게 했다. strong을 받아 와서 지역변수로서 strong을 가져온다.
    // 그리고 그 스트롱의 텍스트로 '안녕하세요'를 넣고,
    // 그것을 타겟의 마지막자식으로 덧붙인다.
    // 내가 원하는 것은 버튼을 누를때마다 태그가 추가되는 것이다

    // 결과물이 btn이 someText로 바뀌어 버렸다.
    // 어째서 그렇게 되었을까? 왜냐하면 btn이 div의 안에 있었으니까.

    
  </script>
</body>
</html>